<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AJ Lab Universal Pro</title>
    <meta name="mobile-web-app-capable" content="yes">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Nunito:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00ffcc; --bg: #0d1117; --card: #161b22; --accent: #58a6ff; --text: #c9d1d9; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Cairo', sans-serif; margin: 0; padding: 0; overflow-x: hidden; }
        .header { background: linear-gradient(180deg, #1f242c, var(--bg)); padding: 25px; text-align: center; border-bottom: 2px solid var(--primary); }
        .logo { font-family: 'Nunito', sans-serif; font-size: 2.5rem; color: var(--primary); text-shadow: 0 0 15px var(--primary); margin: 0; }
        
        /* Ø¨Ø§Ù†Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ø§ÙŠÙ */
        .ai-hub { margin: 15px; background: var(--card); border-radius: 20px; border: 1px solid #30363d; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .status-dot { width: 100%; display: flex; align-items: center; gap: 8px; font-size: 0.8rem; color: var(--primary); margin-bottom: 10px; }
        .dot { width: 10px; height: 10px; background: var(--primary); border-radius: 50%; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
        
        #video-feed { width: 100%; height: 200px; background: #000; border-radius: 15px; margin-bottom: 15px; display: none; object-fit: cover; }
        textarea { width: 100%; background: #010409; border: 1px solid #30363d; color: white; border-radius: 12px; padding: 12px; font-family: 'Cairo'; resize: none; box-sizing: border-box; }
        
        .action-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 15px; }
        .btn-main { border: none; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer; font-family: 'Cairo'; transition: 0.3s; }
        .btn-ai { background: var(--primary); color: #0d1117; grid-column: span 3; font-size: 1.1rem; }
        .btn-tool { background: #21262d; color: white; font-size: 0.9rem; border: 1px solid #30363d; }

        /* Ø±Ø¯ Ø§Ù„Ø£Ø³Ø·Ù‰ */
        #ai-output { margin-top: 20px; padding: 15px; background: #1c2128; border-right: 4px solid var(--primary); border-radius: 8px; display: none; line-height: 1.6; }

        /* Ø§Ù„Ù€ 50 Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .sections-label { padding: 15px 20px 5px; font-size: 0.9rem; font-weight: bold; color: var(--accent); }
        .grid-50 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; padding: 15px; }
        .grid-item { background: var(--card); border: 1px solid #30363d; border-radius: 12px; padding: 12px 5px; text-align: center; cursor: pointer; }
        .grid-item:active { background: var(--primary); color: #000; transform: scale(0.9); }
        .grid-item span { display: block; font-size: 1.2rem; margin-bottom: 5px; }
        .grid-item small { font-size: 0.65rem; display: block; font-weight: bold; white-space: nowrap; overflow: hidden; }

        .fab { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: #25d366; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

    <div class="header">
        <h1 class="logo">AJ Lab Universal</h1>
        <p style="margin:5px 0 0; font-size:0.8rem; opacity:0.8;">Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø§Ø³ØªØ± | Ø£Ø³Ø·Ù‰ Ø§Ù„ØµÙ†Ø¹Ø§Øª</p>
    </div>

    <div class="ai-hub">
        <div class="status-dot"><div class="dot"></div> Ù…ØªØµÙ„ Ø¨Ù€ AJ Lab AI (Live)</div>
        <video id="video-feed" autoplay playsinline></video>
        <textarea id="userInput" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¹Ø·Ù„ Ø£Ùˆ ØµÙˆØ± Ø¨Ø§Ù„Ù„Ø§ÙŠÙ.."></textarea>
        
        <div class="action-grid">
            <button class="btn-main btn-ai" onclick="askExpert()">ØªØ´Ø®ÙŠØµ Ø§Ù„Ø¹Ø·Ù„ ÙÙˆØ±Ø§Ù‹</button>
            <button class="btn-main btn-tool" onclick="startCam()">ğŸ¥ ÙÙŠØ¯ÙŠÙˆ</button>
            <button class="btn-main btn-tool" onclick="startMic()">ğŸ¤ ØµÙˆØª</button>
            <button class="btn-main btn-tool" onclick="document.getElementById('imgIn').click()">ğŸ–¼ï¸ ØµÙˆØ±Ø©</button>
            <input type="file" id="imgIn" hidden onchange="processImg()">
        </div>

        <div id="ai-output"></div>
    </div>

    <div class="sections-label">Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ©</div>
    <div class="grid-50" id="masterGrid"></div>

    <a href="https://wa.me/201011111111" class="fab">ğŸ’¬</a>

    <script>
        const KEY = "AIzaSyDSEanlwCKhNGvp4zwGksuk5Vgr_qMZ0TM";
        const cats = [
            {n:"Ø¨ÙˆÙ„Ø³Ø§Ø± 180", i:"ğŸï¸"}, {n:"Ø¨ÙˆÙƒØ³Ø± 150", i:"âš™ï¸"}, {n:"ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ù‡Ù†Ø¯ÙŠ", i:"âš¡"}, {n:"Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ ØµÙŠÙ†ÙŠ", i:"ğŸ§§"},
            {n:"Ù‡Ø§ÙŠØ¯Ù„Ø¨ÙŠØ±Ø¬ 70*100", i:"ğŸ“ "}, {n:"Ø£ÙˆÙØ³Øª Ø£Ù„Ù…Ø§Ù†ÙŠ", i:"ğŸ‡©ğŸ‡ª"}, {n:"Ø®Ø¨Ø§ÙŠØ§ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©", i:"ğŸ¨"}, {n:"ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ù…ÙƒÙ†", i:"ğŸ”Œ"},
            {n:"ØºØ³Ø§Ù„Ø© Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒ", i:"ğŸ§º"}, {n:"Ø³Ø®Ø§Ù† ØºØ§Ø²", i:"ğŸ”¥"}, {n:"Ø«Ù„Ø§Ø¬Ø© Ù†ÙˆÙØ±ÙˆØ³Øª", i:"â„ï¸"}, {n:"ØªÙƒÙŠÙŠÙ", i:"ğŸŒ¬ï¸"},
            {n:"Ø³ÙŠØ³ØªÙ… POS", i:"ğŸ“Š"}, {n:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ø²Ù†", i:"ğŸ“¦"}, {n:"Ø¨Ø§Ø±ÙƒÙˆØ¯", i:"ğŸ·ï¸"}, {n:"Ù…ÙŠØ²Ø§Ù†", i:"âš–ï¸"},
            {n:"Ø¯Ø¨Ø±ÙŠØ§Ø¬", i:"â›“ï¸"}, {n:"ÙƒØ±Ø¨Ø±Ø§ØªÙŠØ±", i:"â›½"}, {n:"Ø¨ÙˆØ¬ÙŠÙ‡Ø§Øª", i:"ğŸ•¯ï¸"}, {n:"ØªØºÙŠÙŠØ± Ø²ÙŠØª", i:"ğŸ›¢ï¸"},
            {n:"ÙØ±Ø§Ù…Ù„", i:"ğŸ›‘"}, {n:"Ù…Ø³Ø§Ø¹Ø¯ÙŠÙ†", i:"ğŸªœ"}, {n:"Ø¨Ø·Ø§Ø±ÙŠØ©", i:"ğŸ”‹"}, {n:"Ù…Ø§Ø±Ø´", i:"ğŸ”‘"},
            {n:"Ø®Ù„Ø§Ø·", i:"ğŸŒªï¸"}, {n:"Ù…ÙƒÙˆØ§Ø©", i:"ğŸ’¨"}, {n:"Ù…ÙŠÙƒØ±ÙˆÙˆÙŠÙ", i:"ğŸ±"}, {n:"Ù…ÙƒÙ†Ø© Ø­Ù„Ø§Ù‚Ø©", i:"âœ‚ï¸"},
            {n:"Ø´Ø§Ø´Ø© LED", i:"ğŸ“º"}, {n:"Ø±Ø§ÙˆØªØ±", i:"ğŸŒ"}, {n:"Ù…ÙƒÙ†Ø© ØªØµÙˆÙŠØ±", i:"ğŸ–¨ï¸"}, {n:"ÙƒÙ…Ø¨Ø±ÙˆØ³Ø±", i:"ğŸ’¨"},
            {n:"Ù…Ø±ÙˆØ­Ø©", i:"ğŸŒ€"}, {n:"Ø´ÙØ§Ø·", i:"ğŸ "}, {n:"Ø·Ù„Ù…Ø¨Ø© Ù…ÙŠØ§Ù‡", i:"ğŸ’§"}, {n:"Ù…ÙƒÙ†Ø© Ø®ÙŠØ§Ø·Ø©", i:"ğŸ§µ"},
            {n:"Ø·Ø§Ø¨Ø¹Ø© Ù„ÙŠØ²Ø±", i:"ğŸ–¨ï¸"}, {n:"Ø­Ø¨Ø§Ø±Ø© Ø£Ù„ÙˆØ§Ù†", i:"ğŸŒˆ"}, {n:"Ø¯Ø±Ø§Ù… Ø§Ù„Ù…ÙƒÙ†Ø©", i:"âšª"}, {n:"ØªØ¬Ù‡ÙŠØ² Ø£ÙˆØ±Ø¯Ø±", i:"ğŸ“"},
            {n:"Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Øª", i:"ğŸ’°"}, {n:"ØªÙ‚Ø§Ø±ÙŠØ±", i:"ğŸ“…"}, {n:"ØµÙŠØ§Ù†Ø© ÙˆÙ‚Ø§Ø¦ÙŠØ©", i:"ğŸ›¡ï¸"}, {n:"Ø¹Ø¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø©", i:"ğŸ”§"},
            {n:"Ø­Ù„ÙˆÙ„ Ø³Ø±ÙŠØ¹Ø©", i:"ğŸ’¡"}, {n:"ÙÙŠØ¯ÙŠÙˆ Ø´Ø±Ø­", i:"ğŸ¥"}, {n:"Ø®Ø¨ÙŠØ± ØµÙŠÙ†ÙŠ", i:"ğŸ®"}, {n:"Ø®Ø¨ÙŠØ± Ù‡Ù†Ø¯ÙŠ", i:"ğŸ‘³"},
            {n:"Ø¨Ø±Ù…Ø¬Ø©", i:"ğŸ’»"}, {n:"Google Cloud", i:"â˜ï¸"}
        ];

        const g = document.getElementById('masterGrid');
        cats.forEach(c => {
            const d = document.createElement('div');
            d.className = 'grid-item';
            d.innerHTML = `<span>${c.i}</span><small>${c.n}</small>`;
            d.onclick = () => { document.getElementById('userInput').value = `Ø¹Ù†Ø¯ÙŠ Ø¹Ø·Ù„ ÙÙŠ ${c.n}: `; askExpert(); };
            g.appendChild(d);
        });

        async function askExpert() {
            const q = document.getElementById('userInput').value;
            const out = document.getElementById('ai-output');
            out.style.display = "block";
            out.innerText = "Ø§Ù„Ø£Ø³Ø·Ù‰ Ø¨ÙŠÙÙƒØ±... Ø«ÙˆØ§Ù†ÙŠ ÙŠØ§ Ù‡Ù†Ø¯Ø³Ø© â³";

            try {
                const r = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${KEY}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Ø£Ù†Øª Ø£Ø³Ø·Ù‰ Ø®Ø¨ÙŠØ± ÙÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„Ø§ØªØŒ Ù…ÙƒÙ† Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ù‡Ø§ÙŠØ¯Ù„Ø¨ÙŠØ±Ø¬ØŒ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©ØŒ ÙˆØ§Ù„Ù€ POS. Ø§Ø³Ù…Ùƒ AJ Lab. Ø±Ø¯ Ø¨Ù„Ù‡Ø¬Ø© Ù…ØµØ±ÙŠØ© Ø¹Ø§Ù…ÙŠØ© ÙÙ†ÙŠØ© ÙˆÙ…Ø®ØªØµØ±Ø© Ø¬Ø¯Ø§Ù‹ ÙÙŠ Ø´ÙƒÙ„ Ù†Ù‚Ø§Ø·. Ø§Ù„Ø¹Ø·Ù„: ${q}. Ø§Ø°ÙƒØ± Ø§Ù„Ø³Ø¨Ø¨ØŒ Ø§Ù„Ø¹Ø¯Ø©ØŒ ÙˆØ®Ø·ÙˆØ© Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ÙØ§Ø¨Ø±ÙŠÙƒØ§.` }] }]
                    })
                });
                const d = await r.json();
                const txt = d.candidates[0].content.parts[0].text;
                out.innerHTML = `<strong>Ø§Ù„Ø®Ù„Ø§ØµØ© Ù…Ù† AJ Lab:</strong><br>${txt}`;
                const s = new SpeechSynthesisUtterance(txt); s.lang = 'ar-EG'; window.speechSynthesis.speak(s);
            } catch (e) { out.innerText = "ÙÙŠ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø±Ø¨Ø·ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù†Øª ÙŠØ§ Ø¨Ø·Ù„."; }
        }

        function startCam() {
            const v = document.getElementById('video-feed');
            v.style.display = "block";
            navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } }).then(s => v.srcObject = s);
        }

        function startMic() {
            const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            rec.lang = 'ar-EG';
            rec.onresult = (e) => { document.getElementById('userInput').value = e.results[0][0].transcript; askExpert(); };
            rec.start();
        }
    </script>
</body>
</html>
